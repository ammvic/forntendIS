<div class="animals-container">
  <h1 class="title">Dostupne ≈æivotinje za usvajanje</h1>

  <!-- FILTERI -->
<div class="filter-container glass">
  <div class="filter-group">
    <label>Tip ≈æivotinje</label>
    <select [(ngModel)]="filters.type" (change)="applyFilters()">
      <option value="">Sve</option>
      <option value="0">Pas</option>
      <option value="1">Maƒçka</option>
      <option value="2">Drugo</option>
    </select>
  </div>

  <div class="filter-group">
    <label>Pol</label>
    <select [(ngModel)]="filters.gender" (change)="applyFilters()">
      <option value="">Oba</option>
      <option value="0">Mu≈°ki</option>
      <option value="1">≈Ωenski</option>
    </select>
  </div>

  <div class="filter-group">
    <label>Grad</label>
    <input type="text" [(ngModel)]="filters.city" placeholder="Unesite grad..." (input)="applyFilters()" />
  </div>
</div>


  <div class="animals-grid">
    <div class="animal-card glass" *ngFor="let a of filteredAnimals">
      <img [src]="getAnimalImageUrl(a.imageUrl)" alt="Animal Image" class="animal-img" />

      <div class="info">
        <h2 class="animal-type">{{ animalTypeMap[a.animalType] }}</h2>
        <p><i class="icon">‚ôÇÔ∏é</i><strong> Pol:</strong> {{ a.gender === 0 ? 'Mu≈°ki' : '≈Ωenski' }}</p>
        <p><i class="icon">üé®</i><strong> Boja:</strong> {{ a.furColor }}</p>
        <p><i class="icon">‚≠ê</i><strong> Osobine:</strong> {{ a.specialTags }}</p>
        <p><i class="icon">‚ù§Ô∏è</i><strong> Zdravlje:</strong> {{ a.healthCondition }}</p>
        <p><i class="icon">üìç</i><strong> Lokacija:</strong> {{ a.admissionCity }}</p>
      </div>

      <button class="btn adopt glass-btn" (click)="openAdoptModal(a)">Usvoji</button>
    </div>
  </div>
</div>

<!-- ADOPTION MODAL -->
<div class="modal-backdrop" *ngIf="selectedAnimal" style="z-index: 1000;">
  <div class="modal-content glass">
    <div class="form-field">
      <label>Ime i prezime</label>
      <input type="text" [(ngModel)]="form.fullName">
    </div>
    <div class="form-field">
      <label>Email</label>
      <input type="email" [(ngModel)]="form.email">
    </div>
    <div class="form-field">
      <label>Broj telefona</label>
      <input type="tel" [(ngModel)]="form.phone">
    </div>
    <div class="modal-actions">
      <button type="button" class="btn send glass-btn" (click)="sendRequest()">Po≈°alji zahtev</button>
      <button type="button" class="btn cancel glass-btn" (click)="cancel()">Otka≈æi</button>
    </div>
  </div>
</div>

<!-- SUCCESS MODAL -->
<div class="modal-backdrop" *ngIf="successModal" style="z-index: 2000;">
  <div class="success-modal glass">
    <h2>‚úî Zahtev uspe≈°no poslat!</h2>
    <p>Hvala ≈°to ste izabrali da usvojite ≈æivotinju. Uskoro ƒáemo vas kontaktirati.</p>
    <button type="button" class="btn glass-btn" (click)="successModal = false">Zatvori</button>
  </div>
</div>
